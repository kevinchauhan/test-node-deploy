<%- include('../partials/header')%>

<form action="" method="post" enctype="multipart/form-data" class="pt-2">
  <div class="mt-2">
    <label for=""><span class="text-red-500">*</span> Movie title :</label>
    <div class="mt-2">
      <input
        class="w-full bg-transparent border rounded py-2 px-5"
        type="text"
        name="title"
        placeholder="Enter movie title"
        value="<%=movie.title%>"
      />
      <% if(errors && errors.title){ %>
      <p class="text-red-500 mb-2 mt-1 text-sm"><%=errors.title.msg %></p>
      <% } %>
    </div>
  </div>

  <div class="mt-2">
    <label for=""
      ><span class="text-red-500">*</span> Movie description :</label
    >
    <div class="mt-2">
      <textarea
        name="description"
        class="w-full bg-transparent border rounded py-2 px-5"
        placeholder="description"
      >
<%=movie.description%></textarea
      >
      <% if(errors && errors.description){ %>
      <p class="text-red-500 mb-2 mt-1 text-sm"><%=errors.description.msg %></p>
      <% } %>
    </div>
  </div>

  <div class="mt-2">
    <label for=""><span class="text-red-500">*</span> Genre :</label>
    <div class="mt-2">
      <select
        name="genre"
        id=""
        class="w-full bg-transparent border rounded py-2 px-5"
      >
        <option class="text-black" value="">--select genre--</option>
        <option <%= movie.genre === 'action' ? 'selected' : '' %> class="text-black bg-transparent capitalize" value="action">
          action
        </option>
        <option <%= movie.genre === 'adventure' ? 'selected' : '' %> class="text-black capitalize" value="adventure">
          adventure
        </option>
        <option <%= movie.genre === 'horror' ? 'selected' : '' %> class="text-black capitalize" value="horror">horror</option>
        <option <%= movie.genre === 'thriller' ? 'selected' : '' %> class="text-black capitalize" value="thriller">thriller</option>
      </select>
      <% if(errors && errors.genre){ %>
      <p class="text-red-500 mb-2 mt-1 text-sm"><%=errors.genre.msg %></p>
      <% } %>
    </div>
  </div>

  <div class="flex mt-2">
    <div class="mt-2 w-1/2 pr-2">
      <label for=""><span class="text-red-500">*</span> Release year :</label>
      <div class="mt-2">
        <input
          class="w-full bg-transparent border rounded py-2 px-5"
          type="text"
          name="releaseYear"
          placeholder="Release year"
          value="<%=movie.releaseYear%>"
        />
        <% if(errors && errors.releaseYear){ %>
        <p class="text-red-500 mb-2 mt-1 text-sm">
          <%=errors.releaseYear.msg %>
        </p>
        <% } %>
      </div>
    </div>
    <div class="mt-2 w-1/2 pl-2">
      <label for=""><span class="text-red-500">*</span> Rating :</label>
      <div class="mt-2">
        <select
          name="rating"
          id=""
          class="w-full bg-transparent border rounded py-2 px-5"
        >
          <option class="text-black" value="">--select rating--</option>
          <option <%= movie.rating === '1' ? 'selected' : '' %>  class="text-black" value="1">1</option>
          <option <%= movie.rating === '2' ? 'selected' : '' %> class="text-black" value="2">2</option>
          <option <%= movie.rating === '3' ? 'selected' : '' %> class="text-black" value="3">3</option>
          <option <%= movie.rating === '4' ? 'selected' : '' %> class="text-black" value="4">4</option>
          <option <%= movie.rating === '5' ? 'selected' : '' %> class="text-black" value="5">5</option>
          <option <%= movie.rating === '6' ? 'selected' : '' %> class="text-black" value="6">6</option>
          <option <%= movie.rating === '7' ? 'selected' : '' %> class="text-black" value="7">7</option>
          <option <%= movie.rating === '8' ? 'selected' : '' %> class="text-black" value="8">8</option>
          <option <%= movie.rating === '9' ? 'selected' : '' %> class="text-black" value="9">9</option>
          <option <%= movie.rating === '10' ? 'selected' : '' %> class="text-black" value="10">10</option>
        </select>
        <% if(errors && errors.rating){ %>
        <p class="text-red-500 mb-2 mt-1 text-sm"><%=errors.rating.msg %></p>
        <% } %>
      </div>
    </div>
  </div>

  <div class="flex mt-2">
    <div class="w-1/2 mr-2 mt-2">
      <label for=""
        ><span class="text-red-500"></span> Poster :
        <span class="text-sm text-red-500"> (less than 10mb)</span></label
      >
      <div class="mt-2">
        <input
          class="w-full bg-transparent border rounded py-2 px-5"
          type="file"
          name="poster"
          id="poster"
          accept="image/jpeg, image/png"
        />
        <div class="">
          <img class="w-[200px] h-[200px] object-scale-down border" src="/<%= movie.poster %>" alt="" />
        </div>
        <% if(errors && errors.poster){ %>
        <p class="text-red-500 mb-2 mt-1 text-sm"><%=errors.poster.msg %></p>
        <% } %>
      </div>
    </div>
    <div class="w-1/2 ml-2 mt-2">
      <label for=""
        >Video :
        <span class="text-sm text-red-500"> (less than 10mb)</span></label
      >
      <div class="mt-2">
        <input
          class="w-full bg-transparent border rounded py-2 px-5"
          type="file"
          name="video"
          id="video"
          accept="video/mp4, video/webm"
        />
        <div class="">
          <video
            class="w-[200px] h-[200px] object-scale-down border"
            src="/<%= movie.video %>"
          ></video>
        </div>
      </div>
     
    </div>
  </div>

  <div class="mt-5">
    <button class="bg-[#b00c1f] px-4 py-2 rounded">Save</button>
  </div>
</form>

<%- include('../partials/footer')%>
